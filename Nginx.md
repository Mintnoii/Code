## nginx 是什么？

> “Nginx是一款轻量级的HTTP服务器，采用事件驱动的异步非阻塞处理方式框架，这让其具有极好的IO性能，时常用于服务端的反向代理和负载均衡。”

作为一个前端开发，“HTTP服务器”、“事件驱动”、“异步非阻塞”、“极好的IO性能”，这些词语使 Nginx 给我留下的最初印象就是一个跟 Node.js 差不多的，可以用来搭 web 服务器的东西。而至于反向代理，负载均衡什么的  跟我前端有关系吗？所以虽然觉得 Nginx 好像很厉害的亚子，但因为自己的后端知识薄弱，所以也没有去主动学习和深入了解。

但是随着自己技术面的扩展，逐渐认识到不能只限于自己的那一亩三分地地，如今 Nginx 已经是互联网网站搭建的必选技术之一了。虽然一些前端常接触到的需求， 不用 Nginx，单纯地使用 Node.js 也可以满足和实现，但实际上，Nginx和 Node.js 并不冲突，都有自己擅长的领域：Nginx更擅长于底层服务器端资源的处理（静态资源处理转发、反向代理，负载均衡等），Node.js更擅长于上层具体业务逻辑的处理。两者可以实现完美组合，助力前端开发。

> 其实通过Nginx可以强有力地助力前端开发：完全可以把之前Node.js的一些工作放到 Nginx上，而不是痛苦地在npm中找包或者造轮子。但实际上，Nginx种看似简单的配置，实则学问深深。在Nginx实现一个同样的功能，不同的配置编写写法，效率上可能差上好几倍。而这些完全是在建立在对Nginx原理的深入理解和常年的配置运维经验上，哪怕是你们公司的后端都可能对Nginx的了解并不深入。如果真的想，还是找专业的SA或者PE请教吧。

当然现在的我也不是要深入学习 Nginx，毕竟光前端的坑都还没有踩完。写这篇文章的目的主要是为了记录下Nginx 的入门笔记。前端要了解一些运维的Nginx用法，内容不多，简单看看就好，这两个功能在工作当中就够用了

**概述：**

Nginx ("engine x") 是一个高性能的 HTTP 和反向代理服务器,特点是占有内存少，并发能力强。

**它的应用场景和具体可以做什么事情**？

**Nginx 作为 web 服务器：**

Nginx 可以作为静态页面的 web 服务器，同时还支持 CGI 协议的动态语言，比如 perl、php等。但是不支持 java。Java 程序只能通过与 tomcat 配合完成。Nginx 专为性能优化而开发，性能是其最重要的考量,实现上非常注重效率 ，能经受高负载的考验,有报告表明能支持高达 50,000 个并发连接数。

## 什么是反向代理

首先什么是代理？ 互联网应用基本都基于CS基本结构。而代理其实就是在client端和真正的server端之前增加一层提供特定服务的服务器，即代理服务器。

**正向代理：**

> 反向代理不好理解，**正向代理**大家总有用过，翻墙工具其实就是一个正向代理工具。它会把 们访问墙外服务器server的网页请求，代理到一个可以访问该网站的代理服务器proxy，这个代理服务器proxy把墙外服务器server上的网页内容获取，再转发给客户。具体的流程如下图。
>
> 概括说：就是客户端和代理服务器可以直接互相访问，属于一个LAN（局域网）；代理对用户是**非透明**的，即用户需要自己操作或者感知得到自己的请求被发送到代理服务器；代理服务器通过**代理用户端的请求**来向域外服务器请求响应内容。

Nginx 不仅可以做反向代理，实现负载均衡。还能用作正向代理来进行上网等功能。
正向代理:如果把局域网外的 Internet 想象成一个巨大的资源库，则局域网中的客户端要访问 Internet，则需要通过代理服务器来访问，这种代理服务就称为正向代理。

参考：https://juejin.im/post/5bacbd395188255c8d0fd4b2

**反向代理：**

反向代理，其实客户端对代理是无感知的，因为客户端不需要任何配置就可以访问，我们只 需要将请求发送到反向代理服务器，由反向代理服务器去选择目标服务器获取数据后，在返 回给客户端，此时反向代理服务器和目标服务器对外就是一个服务器，暴露的是代理服务器 地址，隐藏了真实服务器 IP 地址。

> **反向代理**则正好相反，先看流程图图。
>
> 在**反向代理**中（事实上，这种情况基本发生在所有的大型网站的页面请求中），客户端发送的请求，想要访问server服务器上的内容。但将被发送到一个代理服务器proxy，这个代理服务器将把请求代理到和自己属于同一个LAN下的内部服务器上，而用户真正想获得的内容就储存在这些内部服务器上。看到区别了吗，这里proxy服务器代理的并不是客户，而是服务器，即向外部客户端提供了一个统一的代理入口，客户端的请求，都先经过这个proxy服务器，至于在内网真正访问哪台服务器内容，由这个proxy去控制。一般代理是指代理客户端，而这里代理的对象是服务器，这就是“反向”这个词的意思。Nginx就是来充当这个proxy的作用。 概括说：就是代理服务器和真正server服务器可以直接互相访问，属于一个LAN（服务器内网）；代理对用户是**透明**的，即无感知。不论加不加这个反向代理，用户都是通过相同的请求进行的，且不需要任何额外的操作；代理服务器通过**代理内部服务器**接受域外客户端的请求，并将请求发送到对应的内部服务器上。
>
> **为什么要Nginx反向代理** 使用反向代理最主要的两个原因： 1）安全及权限。可以看出，使用反向代理后，用户端将无法直接通过请求访问真正的内容服务器，而必须首先通过Nginx。可以通过在Nginx层上将危险或者没有权限的请求内容过滤掉，从而保证了服务器的安全。 2）负载均衡。例如一个网站的内容被部署在若干台服务器上，可以把这些机子看成一个集群，那么Nginx可以将接收到的客户端请求“均匀地”分配到这个集群中所有的服务器上（内部模块提供了多种负载均衡算法），从而实现服务器压力的负载均衡。此外，nginx还带有健康检查功能（服务器心跳检查），会定期轮询向集群里的所有服务器发送健康检查请求，来检查集群中是否有服务器处于异常状态，一旦发现某台服务器异常，那么在以后代理进来的客户端请求都不会被发送到该服务器上（直到后面的健康检查发现该服务器恢复正常），从而保证客户端访问的稳定性。

## 什么是负载均衡

## 什么是动静分离